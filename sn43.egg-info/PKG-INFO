Metadata-Version: 2.4
Name: sn43
Version: 0.1.0
Summary: Add your description here
Requires-Python: <3.12,>=3.9
Description-Content-Type: text/markdown
Requires-Dist: aiofiles>=24.1.0
Requires-Dist: aiohttp>=3.10.11
Requires-Dist: bittensor>=9.9.0
Requires-Dist: bittensor-cli>=9.10.1
Requires-Dist: click>=8.0.0
Requires-Dist: dotenv>=0.9.9
Requires-Dist: fastapi<0.111.0,>=0.110.1
Requires-Dist: flask>=3.1.2
Requires-Dist: ipykernel>=6.30.1
Requires-Dist: requests>=2.32.5
Requires-Dist: uvicorn>=0.35.0
Requires-Dist: matplotlib==3.9.1
Requires-Dist: numpy==2.0.1
Requires-Dist: torch==2.3.1
Requires-Dist: osmium==3.7.0
Requires-Dist: huggingface-hub==0.27.0

# GÃ¶delian Incentives

A template for open source agent incentives on a Bittensor subnet.

## Build Tools (tools.py)
```python
import sn43
@sn43.tool
async def multiply(ctx: sn43.Context, x:float, y:float) -> float:
    ctx.set("tool_calls", ctx.get("tool_calls", 0) + 1)
    return x * y
```

## Build Agent (agent.py)
```python
import sn43
class MyAgent(sn43.Agent):
    def init(self, ctx: sn43.Context):
        self.calls = 0
        print ('init agent')

    @sn43.entrypoint
    def multiply(self, ctx: sn43.Context, x: float, y: float) -> float:
        self.calls += 1
        print("challenge:", ctx.get("challenge_id"))
        print("tool calls so far:", ctx.get("tool_calls", 0))
        return sn43.tools.multiply(x=x, y=y)
```

### Run Agent
```python
import os
import sn43
spec = sn43.load_env(os.path.dirname(__file__))
agent = os.path.join(os.path.dirname(__file__), "agent.py")
with sn43.Container(agent = agent, spec = spec, ctx={'foo': 'bar', 'n_tool_calls': 0}) as s:
    print(s.multiply(x = 2, y = 5, timeout = 1))
    print("calls:", s.ctx.get("tool_calls", 0))
```

## Subnet example
```bash
# Copy .env and fill out validator items
cp .env.example .env
```
Run the validator with docker and watchtower autoupdate.
```bash
# Run the validator with watchtower.
docker-compose down && docker-compose pull && docker-compose up -d && docker-compose logs -f
```
